# 简历润色工具前端项目结构方案

## 项目概述

### 项目名称
简历润色工具 (Resume Polisher) - 职管家

### 技术栈
- **框架**: React 18 + TypeScript
- **样式**: Tailwind CSS
- **状态管理**: Zustand
- **路由**: React Router v6
- **HTTP客户端**: Axios
- **构建工具**: Vite
- **开发工具**: ESLint + Prettier
- **UI组件**: Headless UI + Heroicons

## 项目目录结构

```
web/
├── public/
│   ├── favicon.ico
│   ├── logo.svg
│   └── index.html
├── src/
│   ├── api/                    # API接口层
│   │   ├── client.ts          # Axios配置和拦截器
│   │   ├── types.ts           # API类型定义
│   │   ├── auth.ts            # 认证相关API
│   │   ├── user.ts            # 用户相关API
│   │   ├── resume.ts          # 简历相关API
│   │   ├── workflow.ts        # 工作流相关API
│   │   ├── conversation.ts    # 对话相关API
│   │   └── admin.ts           # 管理员相关API
│   ├── components/            # 公共组件
│   │   ├── ui/               # 基础UI组件
│   │   │   ├── Button.tsx
│   │   │   ├── Input.tsx
│   │   │   ├── Modal.tsx
│   │   │   ├── Loading.tsx
│   │   │   ├── Toast.tsx
│   │   │   └── index.ts
│   │   ├── layout/           # 布局组件
│   │   │   ├── Header.tsx
│   │   │   ├── Footer.tsx
│   │   │   ├── Sidebar.tsx
│   │   │   └── Layout.tsx
│   │   ├── forms/            # 表单组件
│   │   │   ├── LoginForm.tsx
│   │   │   ├── RegisterForm.tsx
│   │   │   ├── SMSForm.tsx
│   │   │   └── ProfileForm.tsx
│   │   ├── upload/           # 上传组件
│   │   │   └── FileUpload.tsx
│   │   └── common/           # 通用组件
│   │       ├── ErrorBoundary.tsx
│   │       ├── ProtectedRoute.tsx
│   │       └── AdminRoute.tsx
│   ├── pages/                # 页面组件
│   │   ├── home/            # 首页
│   │   │   ├── Home.tsx
│   │   │   ├── Hero.tsx
│   │   │   ├── Features.tsx
│   │   │   └── ServiceCards.tsx
│   │   ├── auth/            # 认证页面
│   │   │   ├── Auth.tsx
│   │   │   └── components/
│   │   │       ├── PhoneLogin.tsx
│   │   │       └── PasswordLogin.tsx
│   │   ├── resume/          # 简历相关页面
│   │   │   ├── SimpleResume.tsx      # 通用简历优化
│   │   │   ├── JobResume.tsx         # 职位简历优化
│   │   │   ├── ResumeList.tsx        # 简历列表
│   │   │   ├── ResumeDetail.tsx      # 简历详情
│   │   │   └── components/
│   │   │       ├── ResumeViewer.tsx  # 简历预览器
│   │   │       ├── EditMenu.tsx      # 编辑菜单
│   │   │       └── VersionHistory.tsx
│   │   ├── admin/           # 管理员页面
│   │   │   ├── Administrator.tsx
│   │   │   └── components/
│   │   │       ├── UserManagement.tsx
│   │   │       ├── WorkflowManagement.tsx
│   │   │       ├── FileManagement.tsx
│   │   │       └── SystemStats.tsx
│   │   ├── profile/         # 用户中心
│   │   │   ├── Profile.tsx
│   │   │   └── components/
│   │   │       ├── UserInfo.tsx
│   │   │       ├── ResumeHistory.tsx
│   │   │       └── WorkflowHistory.tsx
│   │   └── error/           # 错误页面
│   │       ├── NotFound.tsx
│   │       └── ServerError.tsx
│   ├── hooks/               # 自定义Hooks
│   │   ├── useAuth.ts       # 认证相关
│   │   ├── useResume.ts     # 简历相关
│   │   ├── useWorkflow.ts   # 工作流相关
│   │   ├── useUpload.ts     # 文件上传
│   │   ├── usePagination.ts # 分页
│   │   └── useLocalStorage.ts
│   ├── store/               # 状态管理
│   │   ├── index.ts         # Store入口
│   │   ├── authStore.ts     # 认证状态
│   │   ├── userStore.ts     # 用户状态
│   │   ├── resumeStore.ts   # 简历状态
│   │   ├── workflowStore.ts # 工作流状态
│   │   └── globalStore.ts   # 全局状态
│   ├── utils/               # 工具函数
│   │   ├── constants.ts     # 常量定义
│   │   ├── helpers.ts       # 辅助函数
│   │   ├── validation.ts    # 表单验证
│   │   ├── format.ts        # 格式化函数
│   │   ├── storage.ts       # 本地存储
│   │   └── file.ts          # 文件处理
│   ├── styles/              # 样式文件
│   │   ├── globals.css      # 全局样式
│   │   ├── components.css   # 组件样式
│   │   └── tailwind.css     # Tailwind入口
│   ├── types/               # 类型定义
│   │   ├── api.ts           # API类型
│   │   ├── user.ts          # 用户类型
│   │   ├── resume.ts        # 简历类型
│   │   ├── workflow.ts      # 工作流类型
│   │   └── global.ts        # 全局类型
│   ├── router/              # 路由配置
│   │   ├── index.tsx        # 路由主文件
│   │   └── routes.ts        # 路由定义
│   ├── App.tsx              # 应用主组件
│   ├── main.tsx             # 应用入口
│   └── vite-env.d.ts        # Vite类型定义
├── tests/                   # 测试文件
│   ├── __mocks__/
│   ├── components/
│   ├── pages/
│   └── utils/
├── .env.development         # 开发环境变量
├── .env.production          # 生产环境变量
├── .gitignore
├── .eslintrc.js
├── .prettierrc
├── index.html
├── package.json
├── tailwind.config.js
├── tsconfig.json
├── vite.config.ts
└── README.md
```

## 核心功能模块设计

### 1. 认证模块 (Auth)

#### 功能特性
- 手机号+验证码登录/注册（主要方式）
- 手机号+密码登录（备选方式）
- 自动注册新用户
- JWT Token管理
- 登录状态持久化

#### 核心组件
```typescript
// src/pages/auth/Auth.tsx
interface AuthProps {
  defaultMode?: 'sms' | 'password';
}

// src/store/authStore.ts
interface AuthState {
  isAuthenticated: boolean;
  user: User | null;
  token: string | null;
  login: (credentials: LoginCredentials) => Promise<void>;
  logout: () => void;
  checkAuth: () => Promise<boolean>;
}
```

### 2. 简历管理模块 (Resume)

#### 功能特性
- 文件上传支持（PDF, Word, TXT, PNG, JPG）
- 简历列表管理
- 版本控制
- 在线预览
- 编辑功能

#### 核心组件
```typescript
// src/pages/resume/SimpleResume.tsx
interface SimpleResumeProps {
  // 通用简历优化页面
}

// src/components/upload/ResumeUpload.tsx
interface ResumeUploadProps {
  onUploadSuccess: (resume: Resume) => void;
  acceptedTypes: string[];
  maxSize: number;
}
```

### 3. 工作流模块 (Workflow)

#### 功能特性
- 工作流执行
- 执行历史
- 结果展示
- 进度跟踪

#### 核心组件
```typescript
// src/hooks/useWorkflow.ts
interface UseWorkflowReturn {
  executeWorkflow: (id: string, inputs: any) => Promise<WorkflowResult>;
  isLoading: boolean;
  error: string | null;
}
```

### 4. 管理员模块 (Admin)

#### 功能特性
- 用户管理（分页查看、创建、重置密码）
- 工作流API配置管理
- 文件统计和管理
- 系统监控

#### 权限控制
```typescript
// src/components/common/AdminRoute.tsx
const AdminRoute: React.FC<{children: React.ReactNode}> = ({ children }) => {
  const { user } = useAuthStore();
  
  if (!user || user.role !== 888) {
    return <Navigate to="/" replace />;
  }
  
  return <>{children}</>;
};
```

## 状态管理设计

### Zustand Store 结构

```typescript
// src/store/authStore.ts
export const useAuthStore = create<AuthState>((set, get) => ({
  isAuthenticated: false,
  user: null,
  token: localStorage.getItem('console_token'),
  
  login: async (credentials) => {
    // 登录逻辑
  },
  
  logout: () => {
    localStorage.removeItem('console_token');
    set({ isAuthenticated: false, user: null, token: null });
  },
  
  checkAuth: async () => {
    // 验证token有效性
  }
}));

// src/store/resumeStore.ts
export const useResumeStore = create<ResumeState>((set) => ({
  resumes: [],
  currentResume: null,
  isLoading: false,
  
  fetchResumes: async () => {
    // 获取简历列表
  },
  
  uploadResume: async (file) => {
    // 上传简历
  }
}));
```

## 路由设计

### 路由配置
```typescript
// src/router/routes.ts
export const routes = [
  {
    path: '/',
    element: <Layout />,
    children: [
      { index: true, element: <Home /> },
      { path: 'auth', element: <Auth /> },
      { path: 'simple-resume', element: <ProtectedRoute><SimpleResume /></ProtectedRoute> },
      { path: 'job-resume', element: <ProtectedRoute><JobResume /></ProtectedRoute> },
      { path: 'profile', element: <ProtectedRoute><Profile /></ProtectedRoute> },
      { path: 'administrator', element: <AdminRoute><Administrator /></AdminRoute> },
      { path: '*', element: <NotFound /> }
    ]
  }
];
```

## API 接口设计

### HTTP 客户端配置
```typescript
// src/api/client.ts
const apiClient = axios.create({
  baseURL: import.meta.env.VITE_API_BASE_URL || 'http://localhost:8888',
  timeout: 10000,
});

// 请求拦截器
apiClient.interceptors.request.use((config) => {
  const token = localStorage.getItem('console_token');
  if (token) {
    config.headers.Authorization = `Bearer ${token}`;
  }
  return config;
});

// 响应拦截器
apiClient.interceptors.response.use(
  (response) => response.data,
  (error) => {
    if (error.response?.status === 401) {
      // 处理token过期
      useAuthStore.getState().logout();
      window.location.href = '/auth';
    }
    return Promise.reject(error);
  }
);
```

### API 接口封装
```typescript
// src/api/auth.ts
export const authAPI = {
  login: (credentials: LoginCredentials) => 
    apiClient.post('/api/user/login', credentials),
  
  auth: (data: AuthData) => 
    apiClient.post('/api/user/auth', data),
  
  sendSMS: (phone: string) => 
    apiClient.post('/api/user/send_sms', { phone }),
  
  verifySMS: (phone: string, sms_code: string) => 
    apiClient.post('/api/user/verify_sms', { phone, sms_code })
};
```

## 样式和UI设计

### Tailwind CSS 配置
```javascript
// tailwind.config.js
module.exports = {
  content: ['./src/**/*.{js,ts,jsx,tsx}'],
  theme: {
    extend: {
      colors: {
        primary: {
          50: '#eff6ff',
          500: '#3b82f6',
          600: '#2563eb',
          700: '#1d4ed8',
        },
        secondary: {
          50: '#f8fafc',
          500: '#64748b',
          600: '#475569',
        }
      },
      fontFamily: {
        sans: ['Inter', 'system-ui', 'sans-serif'],
      }
    },
  },
  plugins: [
    require('@tailwindcss/forms'),
    require('@tailwindcss/typography'),
  ],
};
```

### 组件样式规范
- 使用 Tailwind CSS 原子类
- 组件内部样式使用 CSS Modules（如需要）
- 响应式设计优先
- 深色模式支持

## 开发规范

### TypeScript 配置
```json
{
  "compilerOptions": {
    "target": "ES2020",
    "lib": ["ES2020", "DOM", "DOM.Iterable"],
    "module": "ESNext",
    "skipLibCheck": true,
    "moduleResolution": "bundler",
    "allowImportingTsExtensions": true,
    "resolveJsonModule": true,
    "isolatedModules": true,
    "noEmit": true,
    "jsx": "react-jsx",
    "strict": true,
    "noUnusedLocals": true,
    "noUnusedParameters": true,
    "noFallthroughCasesInSwitch": true,
    "baseUrl": ".",
    "paths": {
      "@/*": ["src/*"],
      "@/components/*": ["src/components/*"],
      "@/pages/*": ["src/pages/*"],
      "@/api/*": ["src/api/*"],
      "@/store/*": ["src/store/*"],
      "@/utils/*": ["src/utils/*"],
      "@/types/*": ["src/types/*"]
    }
  }
}
```

### 代码规范
- ESLint + Prettier 代码格式化
- 组件使用函数式组件 + Hooks
- 统一的错误处理机制
- 统一的API响应处理
- 组件 Props 类型定义
- 自定义 Hooks 封装复用逻辑

## 性能优化

### 代码分割
```typescript
// 路由级别的懒加载
const Home = lazy(() => import('@/pages/home/Home'));
const Auth = lazy(() => import('@/pages/auth/Auth'));
const SimpleResume = lazy(() => import('@/pages/resume/SimpleResume'));
```

### 缓存策略
- API 响应缓存
- 图片懒加载
- 组件 memo 优化
- 虚拟滚动（大列表）

## 测试策略

### 测试框架
- **单元测试**: Vitest + React Testing Library
- **集成测试**: Cypress
- **类型检查**: TypeScript

### 测试覆盖
- 关键业务逻辑测试
- 组件渲染测试
- API 接口测试
- 用户交互流程测试

## 部署配置

### 环境变量
```bash
# .env.development
VITE_API_BASE_URL=http://localhost:8888
VITE_APP_TITLE=职管家 - 开发环境
VITE_UPLOAD_MAX_SIZE=10485760

# .env.production
VITE_API_BASE_URL=https://api.zhiguanjia.com
VITE_APP_TITLE=职管家
VITE_UPLOAD_MAX_SIZE=10485760
```

### 构建配置
```typescript
// vite.config.ts
export default defineConfig({
  plugins: [react()],
  resolve: {
    alias: {
      '@': path.resolve(__dirname, './src'),
    },
  },
  build: {
    outDir: 'dist',
    sourcemap: true,
    rollupOptions: {
      output: {
        manualChunks: {
          vendor: ['react', 'react-dom'],
          router: ['react-router-dom'],
          ui: ['@headlessui/react', '@heroicons/react'],
        },
      },
    },
  },
});
```

## 项目时间规划

### 第一阶段（1-2周）
- 项目初始化和基础架构搭建
- 认证模块开发
- 基础UI组件库建设

### 第二阶段（2-3周）
- 首页和核心页面开发
- 简历上传和管理功能
- 工作流集成（Mock阶段）

### 第三阶段（1-2周）
- 管理员功能开发
- 用户中心完善
- 测试和优化

### 第四阶段（1周）
- 生产环境部署
- 性能优化
- 文档完善

## 风险评估和预案

### 技术风险
1. **工作流集成复杂度**: 先实现Mock版本，再逐步对接真实API
2. **文件上传稳定性**: 实现断点续传和重试机制
3. **状态管理复杂度**: 使用Zustand简化状态管理

### 业务风险
1. **用户体验一致性**: 建立完整的设计系统
2. **移动端适配**: 响应式设计优先
3. **SEO优化**: 考虑服务端渲染方案

## 总结

本方案基于React + TypeScript + Tailwind CSS技术栈，采用现代化的前端开发模式，注重代码质量、用户体验和可维护性。通过模块化设计、统一的状态管理、完善的类型系统和测试策略，确保项目的高质量交付。

该方案支持快速迭代开发，同时为后续功能扩展预留了充足的空间，是一个完整、可执行的前端项目结构方案。
