# 管理员工作流管理功能

## 功能概述

本功能为管理员提供了完整的工作流配置管理界面，包括：

- 查看所有工作流列表
- 创建新的工作流
- 编辑现有工作流
- 查看工作流详情
- 启用/禁用工作流
- 删除工作流

## 权限控制

- 只有具有管理员权限（role = 888）的用户才能访问此功能
- 管理员可以在页面头部看到"管理后台"入口
- 非管理员用户访问管理页面会被重定向到首页

## 页面结构

```
/administrator
├── 工作流管理 (默认)
└── 用户管理 (占位符，待开发)
```

## 组件说明

### WorkflowManagement.tsx
主要的工作流管理组件，提供：
- 工作流列表展示
- 基本操作（增删改查）
- 状态切换（启用/禁用）

### WorkflowModal.tsx
工作流编辑模态框，支持：
- 创建模式：创建新工作流
- 编辑模式：修改现有工作流
- 查看模式：只读查看工作流详情

## API对接

对接了后端的以下API接口：

- `GET /api/admin/workflow/all` - 获取所有工作流
- `POST /api/workflow` - 创建工作流
- `PUT /api/admin/workflow/{id}` - 管理员更新工作流
- `DELETE /api/workflow/{id}` - 删除工作流

## 数据验证

- 工作流名称：必填
- API地址：必填，需要是有效的URL
- API密钥：必填，支持显示/隐藏
- JSON配置：实时验证JSON格式

## 特殊功能

1. **名称唯一性验证**：启用状态的工作流不能重名
2. **JSON编辑器**：支持输入/输出参数的JSON格式配置
3. **状态管理**：支持启用/禁用工作流状态切换
4. **权限显示**：区分公开/私有工作流

## 使用说明

1. 管理员登录后，在页面头部会显示"管理后台"按钮
2. 点击进入管理后台，默认显示工作流管理页面
3. 点击"创建工作流"按钮添加新工作流
4. 在列表中使用操作按钮进行编辑、查看、启用/禁用、删除等操作

## 注意事项

- 工作流执行相关功能暂时忽略，只实现配置管理
- API密钥以明文形式存储和传输，请确保HTTPS连接
- 删除工作流前会弹出确认对话框
- JSON格式错误时会显示错误提示，无法保存
