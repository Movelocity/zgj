server:
  port: 8888
  mode: "debug" # release/debug/test
  static-path: "../web/dist" # 前端静态文件路径

cors:
  mode: "strict-whitelist"
  whitelist:
    # 开发环境 - Vite 开发服务器
    - allow-origin: "http://localhost:5173"
      allow-methods: "POST, GET, OPTIONS, DELETE, PUT"
      allow-headers: "Content-Type,AccessToken,X-CSRF-Token, Authorization, Token,X-Token,X-User-Id,user_id"
      expose-headers: "Content-Length, Access-Control-Allow-Origin, Access-Control-Allow-Headers, Content-Type, New-Token, New-Expires-At"
      allow-credentials: true
    # 生产环境 - 同源请求（前端由同一服务器提供）
    - allow-origin: "http://localhost:8888"
      allow-methods: "POST, GET, OPTIONS, DELETE, PUT"
      allow-headers: "Content-Type,AccessToken,X-CSRF-Token, Authorization, Token,X-Token,X-User-Id,user_id"
      expose-headers: "Content-Length, Access-Control-Allow-Origin, Access-Control-Allow-Headers, Content-Type, New-Token, New-Expires-At"
      allow-credentials: true

pgsql:
  host: "localhost"
  port: 5666
  db-name: "d1"
  username: "postgres"
  password: "admin123*"
  sslmode: "disable"
  max-idle-conns: 10
  max-open-conns: 100
  log-mode: "info" # silent/error/warn/info

spug-sms:
  token: ""
  api-url: "https://api.spug.cc/api/sms/"
  name: ""

jwt:
  signing-key: "fPiMcrpgB1qv98PSsmnwY6L9zRvkNbRj7EaNUi8M87k3XQTfiXdeFw5I"
  expires-time: "168h" # 7天
  buffer-time: "24h"   # 1天
  issuer: "CLOUD"

local:
  path: "uploads/file"
  store-path: "uploads/file"
  max-size: 10 # MB

upload:
  image-max-size: 5   # MB
  file-max-size: 10   # MB
  allow-image-types: "image/jpeg,image/png,image/gif,image/webp"
  allow-file-types: "application/pdf,application/msword,application/vnd.openxmlformats-officedocument.wordprocessingml.document"

log:
  level: "info"
  prefix: "[CLOUD]"
  format: "json" # text/json
  director: "log"
  show-line: true
  encode-level: "LowercaseColorLevelEncoder" # LowercaseLevelEncoder/LowercaseColorLevelEncoder/CapitalLevelEncoder/CapitalColorLevelEncoder

# 火山引擎 TOS 对象存储配置
tos:
  sts:
    access_key: ""           # 火山引擎IAM用户的AccessKey
    secret_key: ""           # 火山引擎IAM用户的SecretKey
    role_trn: ""             # IAM角色的TRN (格式: trn:iam::account-id:role/role-name)
    session_name: "resume-polisher-session" # STS会话名称
    duration_seconds: 900    # STS凭证有效期(秒)，默认15分钟
    endpoint: "https://sts.volcengineapi.com" # STS服务端点
    region: "cn-beijing"     # 区域
    policy: ""               # 可选：IAM策略JSON，用于进一步限制权限
  tos:
    endpoint: "https://tos-cn-beijing.volces.com" # TOS服务端点
    region: "cn-beijing"     # TOS区域
    bucket: ""               # TOS Bucket名称
    key_prefix: "uploads/"   # 文件存储路径前缀
    presign_expires: 900     # 预签名URL有效期(秒)，默认15分钟

# 火山引擎 ASR 语音识别配置
asr:
  app_key: ""                # ASR应用的APP Key
  access_key: ""             # ASR Access Token
  resource_id: ""            # 可选：资源ID
  base_url: "https://openspeech.bytedance.com" # ASR API基础URL
  timeout: 60                # HTTP请求超时时间(秒)
